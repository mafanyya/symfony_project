{% extends 'index.html.twig' %}

{% block header %}
    {{ parent() }}
    <link href="{{ asset('css/root.css') }}" rel="stylesheet"/>
    <link href="{{ asset('css/show.css') }}" rel="stylesheet"/>
    <head>
        <title>Buy {{ item.name }}</title>
    </head>

{% endblock %}

{% block body %}
    <body>
    <div class="container">
        <div class="row">
            <div class="item_image">
                <div class="image_content">
                    <img class = "image" src="{{ item.img }}">
                </div>
            </div>
            <div class="item_inf">
                <div class="item_name">
                    <h1 class = "item_name_text">{{ item.name }}</h1>
                </div>
                <div class="add_review">
                    <a  class = review_link href="#comments">
                    <div class="review_button">
                    <p class="review_text" >Add review</p>
                    </div>
                    </a>
                    <div class="stars">
{#                        <img src="https://img.icons8.com/external-xnimrodx-lineal-xnimrodx/64/000000/external-rating-customer-service-xnimrodx-lineal-xnimrodx.png"/>#}
                        <img class = "star" src="https://img.icons8.com/fluency-systems-regular/48/000000/rating.png"/>
                        <img class = "star" src="https://img.icons8.com/fluency-systems-regular/48/000000/rating.png"/>
                        <img class = "star" src="https://img.icons8.com/fluency-systems-regular/48/000000/rating.png"/>
                        <img class = "star" src="https://img.icons8.com/fluency-systems-regular/48/000000/rating.png"/>
                        <img class = "star" src="https://img.icons8.com/fluency-systems-regular/48/000000/rating.png"/>
                    </div>
                </div>
                <div class="price">
                    <p class = "price_text">{{ item.price }}$</p>
                </div>
                    <a class = "add_cart_link" href="/cart">
                        <form method="post" >
                            <input type = "hidden" name = "item_id" value = "{{ item.id }}">
                            <button class = "add_cart_button" onclick = "addItem()" type = "submit" name = "action" value="add_to_cart">Add to cart</button>
                        </form>

                    </a>
            </div>
        </div>
        <div class="row">
            <div class="details_name">
                <p class = "details_name_text">Details</p>
            </div>
            <div class="details_description">
                <p class = "details_description_text">{{ item.description }}</p>
            </div>
        </div>

            <div class="row">
                <div class="comment_form">
                    <div class="form_name">
                        <p id = "comments" class = "form_name_text">Add review</p>
                    </div>
                    <form  method="post">
                        <div class="comment_form_inner">
                        <div class="form_email">
                            <label for="email">email</label>
                            <input  class = "email_input" id = "email" type="email" name="email">
                        </div>
                        <div class="form_comment">
                            <label for="comment">comment</label>
                            <input  class = "comment_input" id = "comment" type="text" name="comment">
                        </div>
                        <div class="form_rating">
                            <input type="radio" id = "1" name = "rating" value = "1">
                            <label for="1">1</label>
                            <input type="radio" id = "2" name = "rating" value = "2">
                            <label for="1">2</label>
                            <input type="radio" id = "3" name = "rating" value = "3">
                            <label for="1">3</label>
                            <input type="radio" id = "4" name = "rating" value = "4">
                            <label for="1">4</label>
                            <input type="radio" id = "5" name = "rating" value = "5">
                            <label for="1">5</label>

                        </div>
                        <div class="form_button">
                        <button type="submit" name = "action" value = "add_comment">Post Review</button>
                        </div>

                            {% for message in app.flashes('notice') %}
                                <div class="flash-notice">
                                    {{ message }}
                                </div>
                            {% endfor %}
                        </div>
                    </form>
                </div>
            </div>


        <div class="row">
            <div  class="comments">
                <div class="comments_name">
                    <p>Reviews</p>
                </div>
                {% if comments %}
                {% for comment in comments %}
                    <div class="comment">
                        <div class="control_panel">
                            <form method="post">
                                <input type = "hidden" name = "comment_id" value = "{{ comment.id }}">
                                <button class = "remove_button" type = submit name = "action" value = "remove_comment">Remove</button>
                            </form>
                            <button class = "edit_button" type = button > Edit</button>

                        </div>
                        <div class="comment_email">
                            {{ comment.email }}
                        </div>
                        <div class="comment_content">
                            {{ comment.comment }}
                        </div>
                        <div class="rating_content">
                            <p>
                                rating: {{ comment.rating }}
                            </p>

                        </div>
                    </div>

                {% endfor %}
                {% else %}
                <p>No reviews</p
                        {% endif %}>
            </div>
        </div>
    </div>
    </body>
    <script>
        function addItem(){
            alert('Add to cart')
        }
    </script>

{% endblock %}

